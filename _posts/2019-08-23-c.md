---
layout:     post                  #不要管他
title:      从零开始学C语言     #标题
subtitle:   c语言              #别名,简介,标题下面的那一行字
date:       2019-08-23            #发表时间
author:     Zhaolai                    #作者
header-img: img/post-bg-rwd.jpg   #背景图片
catalog: true                     #导航目录,不要管他
original: true                    #是否原创申明
tags:                             #标签,可以有多个
    - C
---

## c语言

#### 认识c语言

   1. c语言是什么？

      人类和计算机交流的一种方式。

   1. c语言适合做什么？

      小工具；和硬件打交道的程序；有高性能要求的应用程序。

#### 使用终端

   1. `sudo apt-get update`更新下载资源

   2. `clear`清空当前界面

   3. `cd 路径`切换路径

   4. `pwd`当前路径

   5. `ls`当前含有文件`ls -l`详细信息

   6. `touch 文件名`创建文件

   7. `mkdir 文件夹名`创建文件夹

   8. `rm 文件名`删除文件名

   9. `cp 文件名 新文件名`拷贝文件为新文件

   10. `cat 文件名`查看文件内容

   12. `cc 文件名（可以写多个，空格连接）`使用`cc`执行文件，得到一个新的可执行文件`a.out`或者使用`-o 文件名`自定义新的可执行文件名字

   13. `./a.out`执行文件，得到结果

   14. `命令1 && 命令2`当命令1执行完毕，返回值为0时，执行命令2

   15. `echo $?`查看上一个运行的状态码

#### 编写文件
   1. `vi 文件名`写入文件，若文件名不存在则创建
   
   2. 快捷键
      1. 按`i`进入写入模式，在光标前面输入
      2. 按`a`进入写入模式，在光标后面输入
      3. 按`shift+i`到行首插入
      4. 按`shift+a`到行为插入
      5. 按`o`到下一行输入
      6. 按`O`在当前行的上一行输入
      7. 按`x`删除光标位置的数值
      8. 按`dd`删除整行
      9. 按`esc`退出
      10. 按`数字+d+d`剪切多少行内容
      11. 按`数字+y+y`复制多少行内容
      12. 按`p`粘贴
      13. `：set nu`显示行号
      14. `：sp 文件名`同时打开多个文件，`ctrl+w+下箭头`切换至其其他文件
      15. `：w`保存，`：q`退出，`：a`所有文件
      16. `zfn`折叠n行
      17. `zo`在折叠处撤销折叠
      18. `zd`删除所有折叠
      
   3. 文件内容
      1. `#include <stdio.h>`引入自带的库
      
      2. `#include "文件名"`导包.c
      
      3. `int main(int argv, char* argc[]){}`这是完整形式的`main`函数
         1. `argv`表示运行时参数的长度
         2. `argc[]`表示运行时参数的列表
         
      4. `return 0`意味着执行成功，其他则是失败
      
      5. `for(a=0;a<10;a++)`循环，但是需要提前声明`int a`
      
      6. `if(条件){结果}`条件语句
      
      7. 为了节约编译时间,导包的时候导.h,事先编译好.o,编写一个Makefile文件,运行`gcc hello1.c max.o min.o -o hello1.o`
      
         ```
         # this is a Makefile.
         hello.out:hello.c max.o min.o
                 gcc hello1.c max.o min.o -o hello1.o
         max.o:max.c
                 gcc -c max.c -o max.o
         min.o:min.c
                 gcc -c min.c -o min.o
         ```
      

#### make

   1. `make -v`查看当前make版本
   2. `vi Makefile`创建一个`Makefile`文件编写过程，内容如下：
   ```
   输出文件：依赖文件
   gcc命令（前面是一个Tab）
   ```

   3. `make`运行，可直接完成得到生成的文件。

#### 输入/输出/错误流

   1. `stdin/stdout/stderr`这些是文件名
   
   2. `fprintf(文件名，内容)`
   
   3. `fscanf(文件名，"格式化表达式"，&变量名)`赋值给新的变量
   
   4. 流的重定向
      1. 输入 `< 文件名`从文件导入内容
      2. 输出`1<< 文件名`以a模式写入文件，`1< 文件名`以w的模式写入，1可以不写，若同时出现多个不写的会写到最后面去
      3. 错误`2<< 文件名`以a模式写入文件，`2< 文件名`以w的模式写入，2必须写
      
   5. 管道
   
      `程序a | 程序b`将a得到的结果（输出流）传给b（输入流）

#### `gdb`工具

   1. 编译的时候需要使用`cc -g abc.c -o abc.out`进行编译
   2. 运行`gdb ./abc.out`
   3. 用法
      1. `list`查看源文件代码，一次10行，按回车执行多次
      2. `start`开始运行
      3. `n`下一行
      4. `s`下一步
      5. `p 变量`打印值
      6. `p * 内存地址`打印值
      7. `bt`查看函数堆栈
      8. `x/数量显示类型 内存地址`按显示类型（d整数）打印指定数量的值
      9. `f 函数编号`切换函数
      10. `quit`退出

#### 指针

   1. 形参`viod test(int *a)`
   2. 实参`test(&a)`其实&传入的是a的内存地址，*为内存地址对应的值
   3. 变量只是一个代号，本质就是内存
   4. 指针就是保存内存地址
   5. 数字占4字节，字符串（1个字母1字节+\0（1个字节）），地址8字节（64位）
   6. 内存
      1. 代码段（函数）先传的小
      2. 数据段（全局变量，常量，静态变量`static int num = 0`）
      3. 堆
      4. 自由
      5. 栈（函数当前执行的状态）先声明的比较大，后声明的比较小，先进后出
   7. `int (*name1)(int a)=&name`用函数的指针可以调用函数，回调函数，此时`name1`是代码段的指针，指向的`name`函数
   8. `int list[n]`数组也是一种指针常量，长度为n，因此可以使用一个指针等于数组，`*p = list`通过指针的偏移`p[i]`进行修改。
   9. `p+n`值的是根据内容长度移动多少