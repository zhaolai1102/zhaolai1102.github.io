---
layout:     post                  #不要管他
title:      从零开始学SQL     #标题
subtitle:   mysql              #别名,简介,标题下面的那一行字
date:       2019-09-04            #发表时间
author:     Zhaolai                    #作者
header-img: img/post-bg-rwd.jpg   #背景图片
catalog: true                     #导航目录,不要管他
original: true                    #是否原创申明
tags:                             #标签,可以有多个
    - sql
    - 数据库
    - mysql
---
## 数据库: 对数据进行管理

要求

1 进行数据的操作 (添加,删除,修改,查询)

2 数据的持久化保存

3 性能

类型

1 关系型数据库

mysql  sql-server pgSQL  Oracle

2 非关系型数据库

redis mongodb

## mysql

库 database  

库中可以存储多个表,通常情况下,是一个项目一个库,库就像一个文件夹,里面可以存很多个文件(表)

表 table 

表就像excel中的一个表格,里面可以有很多的字段 数据(行,列)

行  row 一行数据

列  一列数据

字段 field 字段就是列的头,一列数据的一个表示

## mysql中的数据类型

#### 字符串

char(11)       定长字符串 1-255

varchar(11)    不定长字符串 1-65535 

text           长度 65535 适合存储大文本内容,例如 商品的介绍,文章的内容等...

相同点

char和varchar都不能存储超出指定长度的字符

区别

char如果定义了指定长度,那么如果存储的内容没有超出,依然占用指定长度的存储空间

varchar 如果定义了指定长度,那么存储的内容如果没有超出,那么就占实际的字符长度空间

存储长度不一样,

由于char的存储空间固定,因此操作时效率比varchar要高

text适合存储文本,不能使用索引

#### 数字

int unsigned      无符号 0-42亿  有符号  -21亿-21亿   10000  10001

float             浮点数

tinyint           0-255

decimal(5, 2)    表示一共有5位数,小数占2位

#### 日期时间

date  日期 年月日

time  时间 时分秒

datetime 日期 时间

datetime 8字节 1000-01-01 00:00:00 ~ 9999-12-31 23:59:59

#### 二进制

没有人用二进制去存储 图片,音频,视频,...

如果存储多媒体资源

1. 把文件下载到本地,

2. 把文件的路径和文件名 记录下来

3. 存储到数据库中,存成字符串

## 命令

#### 基本命令

登录

mysql -u root -p

查看所有的库

show databases;

创建一个库

create database 库名 default charset="utf8mb4";

打开一个库,进入一个库,选择一个库

use 库名

查看库中的所有表

show tables;

创建表

```sql
create table users(
	id int,
	username varchar(30),
	age int,
	phone varchar(11)
);
```

删除表

drop table users;

查看表中的数据

select * from users;

给表添加数据

- 向users表中添加指定字段的数据,添加一条

insert into users(id,username,phone,age) values(1,'张三','13701383017',23);

- 不指定具体字段,去添加数据

insert into users values(2,'李四',22,'12738173');

- 批量添加数据

```sql
insert into users values
	(3,'王五',22,'12738173'),
	(4,'赵六',21,'12738173'),
	(5,'田七',25,'12738173'),
	(6,'wangba',22,'12738173');
```

删除数据

delete from users where id = 6;

修改数据

update users set age=24 where username = '田七';

查看表结构

desc users;

查看建表语句

show create table users;

#### 索引

创建表 并且在创建表时 指定索引

```sql
create table users(
	id int unsigned auto_increment primary key,
	name varchar(20) not null,
	sex tinyint not null default 0,
	phone char(11) not null,
	index index_name(name),
	unique uni_phone(phone)
);
```

创建表时 指定字段的索引  不太常用

```sql
create table test(
    name varchar(20) key,
    phone char(11) unique
)
```

#### 修改表结构

添加新的字段  alter table 表名 add 字段名信息

alter table users add age int not null default 20; # 会把age添加到表的最后

alter table users add age int not null default 20 after sex; # 会把age添加到sex字段的后面

删除字段  alter table 表名 drop 被删除的字段名

alter table test drop phone;

修改字段  alter table 表名 change[modify] 被修改后的字段信息

都可以修改字段信息,change  可以修改表名  modify 不能修改表名,

alter table test change name user_name char(20);

alter table test modify user_name char(20);