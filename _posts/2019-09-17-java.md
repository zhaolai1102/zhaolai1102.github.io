---
layout:     post                  #不要管他
title:      从零开始学java #标题
subtitle:   java          #别名,简介,标题下面的那一行字
date:       2019-09-17          #发表时间
author:     Zhaolai                    #作者
header-img: img/post-bg-rwd.jpg   #背景图片
catalog: true                     #导航目录,不要管他
original: true                    #是否原创申明
tags:                             #标签,可以有多个
    - java
---

## 安装与配置

#### 下载JDK

https://www.oracle.com/technetwork/java/javase/downloads/jdk12-downloads-5295953.html

接受许可后, 下载`JDK-12.0.2_linux-x64_bin.tar.gz`

解压到指定的安装目录

#### 配置profile

`sudo vim /etc/profile`

在最后添加

```
export JAVA_HOME=/opt/jdk-12.0.2 #你的java位置
export JRE_HOME=$JAVA_HOME/jre
export CLASSPATH=.:$JAVA_HOME/lib:$JRE_HOME/lib:$CLASSPATH
export PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH
```

#### 配置environment

`sudo vim /etc/environment`

修改为

```
PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:$JAVA_HOME/bin"
# :$JAVA_HOME/bin是后加的

export JAVA_HOME=/opt/jdk-12.0.2
export JRE_HOME=/opt/jdk-12.0.2/jre
export CLASSPATH=.:$CLASSPATH:$JAVA_HOME/lib:$JAVA_HOME/jre/lib
```

配置完成后检测java版本, 重启后再次检查 

## Java基础

#### 注释

```java
//单行注释
/*单行注释*/
/*多行注释
*第一行
*第二行
*第三行
*/
```

#### 数据类型

内置数据类型

|  类型   |                范围                 |     大小     | 默认值  |
| :-----: | :---------------------------------: | :----------: | :-----: |
|  byte   |        -128(-2^7)~127的整数         | 1/4个int,8位 |    0    |
|  short  | -32768(-2^15)~32767的整数 1/2个int  |     16位     |    0    |
|   int   | -2,147,483,648(-2^31)~2,147,483,647 |     32位     |    0    |
|  long   |            -2^63~2^63-1             |     64位     |   0L    |
|  float  |         单精度的浮点数-7位          |     32位     |  0.0f   |
| double  |          双精度浮点数-15位          |     64位     |  0.0d   |
| boolean |               布尔值                |              |  false  |
|  char   |          单一的Unicode字符          |     16位     | 'u0000' |

数据类型转换

在运算过程中, 数据类型会自动转换为同一类型, 然后进行运算

`byte,short,char—> int —> long—> float —> double `

强制转换

```java
public class QiangZhiZhuanHuan{
    public static void main(String[] args){
        int i1 = 123;
        //强制转换  (类型)值
        byte b = (byte)i1;
        System.out.println("int强制类型转换为byte后的值等于"+b);
    }
}
```

进制: 前缀0代表八进制, 0x代表16进制

引用数据类型: 对象和数组

数组

```java
double[] myList;  
```



#### 常量

不能被修改, 使用final关键字

```java
final double PI = 3.1415927;
```

#### 变量

```java
//type identifier [ = value][, identifier [= value] ...] ;
int a , 
byte b = 2;
```

```java
public class Variable{
     // 类变量
    static int allClicks=0;
    // 实例变量  对象的变量
    String str="hello world";
    // 这个实例变量对子类可见
    public String name;
    // 私有变量，仅在该类可见
    private double salary;
    public void method(){
        int i =0;  // 局部变量 	类方法内的变量, 必须初始化值
    }
}
```

#### 修饰符

访问修饰符

- **default** (即默认，什么也不写）: 在同一包内可见，不使用任何修饰符。使用对象：类、接口、变量、方法。

- **private** : 在同一类内可见。使用对象：变量、方法。 **注意：不能修饰类（外部类）**

- **public** : 对所有类可见。使用对象：类、接口、变量、方法

- **protected** : 对同一包内的类和所有子类可见。使用对象：变量、方法。 **注意：不能修饰类（外部类）**。

- 访问控制

    |  修饰符   | 当前类 | 同一包内 | 子孙类(同一包内) | 子孙类(不同包) | 其他包 |
    | :-------: | :----: | :------: | :--------------: | :------------: | :----: |
    |  public   |   Y    |    Y     |        Y         |       Y        |   Y    |
    | protected |   Y    |    Y     |        Y         |      Y/N       |   N    |
    |  default  |   Y    |    Y     |        Y         |       N        |   N    |
    |  private  |   Y    |    N     |        N         |       N        |   N    |

非访问修饰符

- static 修饰符，用来修饰类方法和类变量。静态
- final 修饰符，用来修饰类、方法和变量，final 修饰的类不能够被继承，修饰的方法不能被继承类重新定义，修饰的变量为常量，是不可修改的。
- abstract 修饰符，用来创建抽象类和抽象方法。有抽象方法的一定是抽象类, 需要被继承后重写
- synchronized 同时只能被一个线程访问
- volatile 修饰符，主要用于线程的编程, 每次被访问都是重新读取, 而变化时会让变化值写入共享的内存中。

#### 运算符

- 算术运算符: +加, -减, *乘, /除, %余,++自增1, --自减1

a++先运算后自增; ++a为先自增后运算

- 关系运算符: ==等于, !=不等于, >大于, <小于, >=大于等于, <=小于等于

- 位运算符: &和, |或, ^同为0异为1, ~反, >>右移运算, <<左移运算, >>>右移补零

- 逻辑运算符: &&与, ||或, !非

当使用&&时, 第一个条件为false时, 不会判断第二个条件

- 赋值运算符: =, +=, -=, *=, /=, %=, <<=, >>=, &=, ^=, |=
- 条件运算符: 条件?条件为真时的值:条件为假时的值
- instanceof: 用于判断是否为某个类型

#### 循环结构

```java
while(判断条件){
    //循环内容
}

do{
    //循环内容
}while|(判断条件)
    
for(初始化; 布尔表达式; 更新) {
    //代码语句
}
int [] numbers = {10, 20, 30, 40, 50};
// 遍历容器数据, 
for(int x : numbers ){
    System.out.print( x );
    System.out.print(",");
}
```

break 结束循环

continue 跳过本次循环

#### 条件语句

其中else if可以写多个, 也可以不写, else应该在最后面, 可以没有

```java
if(条件1){
    //代码语句
}else if(条件2){
    //代码语句
}else{
    //代码语句
}
```

case语句可以有很多个, 真的时候会执行其代码, 如果没有break, 那么后面的CASE不论真假都会执行, 直到出现break或结束

```java
switch(变量){
    case 值:
        // 为真的时候执行的代码
    	break;
    default:
        // 其他都为假的时候执行的代码
}
```

#### 异常处理

```java
try{
    //尝试的代码
}catch(Exception e){
    //错误执行的代码
}finally{
    //无论对错都会执行的代码
}
```

## 类

#### 定义

一个类对应一个文件, 类名同文件名

```java
public class Employee{
    //定义类的属性
   String name;	
   int age;
   // Employee 类的构造函数  同类名函数
   public Employee(String name){
      this.name = name;
   }
   // Employee 类的构造函数  重载构造函数, 如果没有参数使用zhaolai
   public Employee(){
      this.name = 'zhaolai';
   }
   // 设置age的值  方法
   public void empAge(int empAge){
      age =  empAge;
   }
   /* 打印信息 */
   public void printEmployee(){
      System.out.println("名字:"+ name );
      System.out.println("年龄:" + age );
   }
    //主函数, 执行的内容
    public static void main(String[] args){
        
    }
}
```

#### 对象

```java
public class EmployeeTest{
    //main输出函数
   public static void main(String[] args){
       //对象的创建
      Employee empOne = new Employee("RUNOOB1");
      // 调用这两个对象的成员方法
      empOne.empAge(26);
      empOne.printEmployee();
   }
}
```

#### 继承

不支持多继承, 继承非private的属性和方法, 子类可以对父类拓展, 可以重写父类的方法

```java
public class A extends B implements C{
    // 声明类A 继承B 使用C接口
    int n = 10;
    public A (int n){
        super();
        this.n = n
    }
}
B b = A();
// 此时 b无法使用A拓展的属性和方法, 因为B没有   
```

#### 抽象类

抽象类无法被实例化, 可以通过被继承后进行重写来使用

```java
public abstract class Employee{
    //抽象类
    public abstract double computePay();
    //抽象方法, 只有抽象类才会包含抽象方法, 抽象方法被继承时必须被重写, 除非子类是一个抽象类
}
```

#### 接口

方法默认抽象, 不用添加abstract, 使用时必须被重写

```java
public interface NameOfInterface{
    //任何类型 final, static 字段
    //抽象方法
    public void travel();
}
```

## 类/包

#### Number数值

```java
public class Test{ 
    public static void main(String args[]){
        Integer x = 5;
        Integer y = 10; 
        // 获得指定的数据类型的数值
        System.out.println( x.byteValue() );
        // 同类型比较 当x>y时1, 当x=y时0, 当x<y时-1
        System.out.println(x.compareTo(y));
        // 比较 当同类型且值相等时返回true,否则返回false
        System.out.println(x.equals(y));
        // 获得指定数据类型的数值
        Double c = Double.valueOf(5);
        Float a = Float.valueOf("80");
        // 第二个参数表示使用多少进制进行解析
        Integer b = Integer.valueOf("444",16);
        // 获得指定数据类型的数值的字符串
        System.out.println(x.toString());  
        System.out.println(Integer.toString(12)); 
        // 通过字符串获得指定类型的值, 第二个参数表示使用多少进制进行解析
        double c = Double.parseDouble("5");
        int b = Integer.parseInt("444",16);
    }
}
```

#### Math数学

```java
public class Test{ 
    public static void main(String args[]){
        Integer a = -8;
        //获得绝对值
        System.out.println(Math.abs(a));
        //取整ceil,floor,rint,round
        System.out.println(Math.ceil(a));
        //得到2个参数的最小值min, 最大值max
        System.out.println(Math.min(12.123, 12.456));      
        //得e的n次方exp, 以e为底的对数log
        System.out.println(Math.exp(12));
        //得到x的y次方
        System.out.println(Math.pow(x, y));
        //得到x的算数平方根
        System.out.println(Math.sqrt(x));
        double degrees = 45.0;
        //通过角度获得弧度toRadians, 通过弧度获得角度toDegrees
        double radians = Math.toRadians(degrees);
        //通过弧度得到正弦sin, 余弦cos, 正切tan, 反正弦asin, 反余弦acos, 反正切atan
        System.out.format(Math.sin(radians));
        //极坐标的角度值atan2
        System.out.println( Math.atan2(45, 35) );
        //获得随机数 大于等于0,小于1
        System.out.println( Math.random() ); 
    }
}
```

取整

| 参数 | ceil | floor | rint | round |
| :--: | :--: | :---: | :--: | :---: |
| 1.4  | 2.0  |  1.0  | 1.0  |   1   |
| 1.5  | 2.0  |  1.0  | 2.0  |   2   |
| 2.5  | 3.0  |  2.0  | 2.0  |   3   |
| 2.6  | 3.0  |  2.0  | 3.0  |   3   |
| -1.4 | -1.0 | -2.0  | -1.0 |  -1   |
| -1.5 | -1.0 | -2.0  | -2.0 |  -1   |
| -2.5 | -2.0 | -3.0  | -2.0 |  -2   |
| -2.6 | -2.0 | -3.0  | -3.0 |  -3   |

#### Character字符

```java
public class Test {
    public static void main(String args[]) {
        //判断是否为字母isLetter, 数字isDigit, 空白符isWhitespace, 大写字符isUpperCase, 小写字符isLowerCase
        System.out.println(Character.isLetter('c'));
        //转换为大写字符toUpperCase, 小写字符toLowerCase, 字符串toString
        System.out.println(Character.toUpperCase('a'));
    }
}
```

转义字符

| `\t` | 在文中该处插入一个tab键  |
| ---- | ------------------------ |
| `\b` | 在文中该处插入一个后退键 |
| `\n` | 在文中该处换行           |
| `\r` | 在文中该处插入回车       |
| `\f` | 在文中该处插入换页符     |
| `\'` | 在文中该处插入单引号     |
| `\"` | 在文中该处插入双引号     |
| `\\` | 在文中该处插入反斜杠     |

#### String不可变字符串

格式化字符串

```java
String fs = String.format("浮点型变量的值为 " 
                          + "%f, 整型变量的值为 " 
                          + " %d, 字符串变量的值为 " 
                          + " %s", floatVar, intVar, stringVar);
```

```java
public class Test {
    public static void main(String args[]) {
        String s = "www.runoob.com";
        //通过索引获得对于的字符
        char result = s.charAt(8);
        String str1 = "Strings";
        String str2 = "Strings123";
        //依次比较2个字符串的ascii码顺序, 相等返回0, str1>str2返回差值为正, str1<str2返回差值为负
        int result = str1.compareTo( str2 );
        //忽略大小写
        int result = str1.compareToIgnoreCase( str2 );
        //拼接2个字符串
        s = s.concat("www.runoob.com");
        StringBuffer str3 = "String1";
        //获取字符容器的值, 组成字符串[, 开始的索引, 提取的数量]
        char[] Str1 = {'h', 'e', 'l', 'l', 'o', ' ', 'r', 'u', 'n', 'o', 'o', 'b'};
        Str2 = Str2.copyValueOf( Str1, 2, 6 );
        //和stringbuffer比较内容, 相同则为true, 不同为false
        //和一个对象比较值是否相同equals, 忽略大小写使用equalsIgnoreCase
        boolean  result = str1.contentEquals( str3 );
        //以什么字符串结束endsWith(字符串), 开始startsWith(字符串[, 开始的索引])
        boolean retVal = Str.endsWith( "runoob" );
        //将字符串转为字节数组, [字符集]
        byte[] Str2 = Str1.getBytes();
        //将字符串转换为字符数组 开始索引, 结束索引, 目标数组, 偏移量
        char[] Str2 = new char[6];
        Str1.getChars(4, 10, Str2, 0);
        //获得字符串对于的哈希码
        int str = Str.hashCode() ;
        //获得对应字符串或数值的索引[, 开始的索引值], 找不到返回-1使用indexOf, 最后一次出现的索引使用lastIndexOf
        int a = string.indexOf(99));
        //intern() 方法返回字符串对象的规范化表示形式。
        //length() 返回字符串长度
        //检测是否匹配正则表达式
        Str.matches("(.*)runoob(.*)");
        //检测两个字符串在一定的区域内是否相等 [是否忽略大小写], 起始偏移量, 对比的字符串, 起始偏移量, 需要比较的个数
        boolean b = Str1.regionMatches(true, 4, Str3, 0, 5);
        //替换所有, replace(旧内容, 新内容), replaceAll(正则表达式, 新内容), 匹配一次replaceFirst(正则表达式, 新内容)
        String c = Str.replace('o', 'T');
       //切割字符串, split(正则表达式[, 切割的份数])
        //获得一个新的字符串, subSequence(开始的索引[, 结束的索引]), 左闭右开
        //toCharArray() 方法将字符串转换为字符数组, toString() 返回自己本身。
        //toUpperCase()将字符变为大写, toLowerCase()将字符变为小写 
        //trim()删除字符串的空白符
        //将布尔值, 数值类型, 字符数组, (字符数组[, 开始索引, 字符数量]), 对象 转换为字符串
        String.valueOf(d)
    }
}
```

#### StringBuffer可变字符串

```java
public class Test{
    public static void main(String args[]){
        StringBuffer sBuffer = new StringBuffer("菜鸟教程官网：");
        // 追加一个字符串
        sBuffer.append("www");
        //reverse() 反转字符串
        //delete(开始索引, 结束索引) 删除子串
        //insert(开始索引, int类型的值) 将值插入指定索引后
        //replace(开始索引, 结束索引, 替换的字符串)替换
        //char charAt(int index) 得到对应索引的字符
        //int capacity()得到容器的容量
        //void ensureCapacity(int minimumCapacity)确保容量至少等于指定的最小值。
        //void setLength(int newLength)设置字符序列的长度。
        //void getChars(int srcBegin, int srcEnd, char[] dst, int dstBegin)将字符从此序列复制到目标字符数组 dst.
        //int indexOf(String str[, int fromIndex])从指定索引位置, 返回第一次出现的指定子字符串在该字符串中的索引。
        //int lastIndexOf(String str[, int fromIndex])从指定索引位置, 返回最右边出现的指定子字符串在此字符串中的索引
        //int length() 返回长度（字符数
        //void setCharAt(int index, char ch)将给定索引处的字符设置为 ch。
        //CharSequence subSequence(int start, int end)返回一个新的字符序列，该字符序列是此序列的子序列。
        //String substring(int start[,int end])返回一个新的 String，它包含此字符序列当前所包含的字符子序列。
        //String toString()返回此序列中数据的字符串表示形式。
  }
}
```

#### Arrays数组

public static int binarySearch(Object[] a, Object key)
用二分查找算法在给定数组中搜索给定值的对象(Byte,Int,double等)。数组在调用前必须排序好的。如果查找值包含在数组中，则返回搜索键的索引；否则返回 (-(*插入点*) - 1)。

public static boolean equals(long[] a, long[] a2)
如果两个指定的 long 型数组彼此*相等*，则返回 true。如果两个数组包含相同数量的元素，并且两个数组中的所有相应元素对都是相等的，则认为这两个数组是相等的。换句话说，如果两个数组以相同顺序包含相同的元素，则两个数组是相等的。同样的方法适用于所有的其他基本数据类型（Byte，short，Int等）。

public static void fill(int[] a, int val)
将指定的 int 值分配给指定 int 型数组指定范围中的每个元素。同样的方法适用于所有的其他基本数据类型（Byte，short，Int等）。

public static void fill(int[] a, int val)
将指定的 int 值分配给指定 int 型数组指定范围中的每个元素。同样的方法适用于所有的其他基本数据类型（Byte，short，Int等）。

#### Date日期时间

```java
import java.util.Date;
import java.text.SimpleDateFormat;

public class Test {
    public static void main(String[] args){
        // 获得当前时间对象, 或者使用时间戳创建
        Date date = new Date()
        Date data = new Date(1000)
        // date在data后时返回true => after; 反之before
        date.after(data);
        // 返回对象的副本
        date.clone()
        //比较日期返回值为date-data =>compareTo; 等于equals返回布尔值
        date.compareTo(data)
        //得到时间戳 => getTime返回long; 得到哈希码 =>hashCode返回int; 得到时间字符串 => toString()
        date.getTime()
        //设置对象的时间值, 参数为时间戳
        date.setTime(1000)
        //格式化时间字符串
        SimpleDateFormat ft = new SimpleDateFormat ("yyyy-MM-dd hh:mm:ss");
        System.out.println("当前时间为: " + ft.format(dNow));
    }
}
```

#### Stream流

- 控制台输入

```java
import java.io.*;
 
public class StremTest {
    public static void main(String[] args) throws IOException {
    	String str;
        char c;
        // 使用 System.in 创建 BufferedReader
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        // 读取字符
        do {	
            //读取输入的所有内容
            str = br.readLine();
            //读取输入的单个字符
            c = (char) br.read();
            System.out.println(str);
            System.out.println(c);
        } while (!str.equals("end"));
    }
}
```

- 文件的读写

```java
import java.io.*;

public class StremTest {
    public static void main(String[] args) throws IOException {
        File f = new File("a.txt");
        FileOutputStream fop = new FileOutputStream(f);
        // 构建FileOutputStream对象,文件不存在会自动新建
        OutputStreamWriter writer = new OutputStreamWriter(fop, "UTF-8");
        // 构建OutputStreamWriter对象,参数可以指定编码
        writer.append("中文输入");
        writer.append("\r\n");
        writer.append("English");
        // 刷新缓存冲,写入到文件,如果下面已经没有写入的内容了,直接close也会写入
        writer.close();
        // 关闭写入流,同时会把缓冲区内容写入文件,所以上面的注释掉
        fop.close();
        // 关闭输出流,释放系统资源
        
        FileInputStream fip = new FileInputStream(f);
        // 构建FileInputStream对象
        InputStreamReader reader = new InputStreamReader(fip, "UTF-8");
        // 构建InputStreamReader对象,编码与写入相同
        StringBuffer sb = new StringBuffer();
        while (reader.ready()) {
            sb.append((char) reader.read());
            // 转成char加到StringBuffer对象中
        }
        System.out.println(sb.toString());
        reader.close();
        // 关闭读取流
        fip.close();
        // 关闭输入流,释放系统资源
    }
}
```

#### Scanner扫描

```java
import java.util.Scanner;
 
public class ScannerDemo {
    public static void main(String[] args) {
        // 从键盘接收数据
        Scanner scan = new Scanner(System.in);
        // 获得输入内容next空白符切割, nextLine 回车切割
        scan.next();
		// 判断是否有输入, hasNext; hasNextLine, 输入是否为Int.
        scan.hasNextInt();
        // 结束扫描
        scan.close();
    }
}
```



